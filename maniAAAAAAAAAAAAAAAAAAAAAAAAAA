local CheckMobile = function()
    if
        game:GetService("UserInputService").TouchEnabled
    then
        return true
    end
end
IsMobile = CheckMobile()
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local GuiService = game:GetService("GuiService")

local screenResolution = GuiService:GetScreenResolution()
local screenWidth = screenResolution.X
local screenHeight = screenResolution.Y

local windowWidth = screenWidth * 0.6
local windowHeight = screenHeight * 0.8
-- varibles fly command
local Player = game.Players.LocalPlayer
local Character = Player.Character
local Humanoid = Character:WaitForChild("Humanoid")
local Torso = Character:WaitForChild("LowerTorso")
local Mouse = Player:GetMouse()

if not IsMobile then
    windowWidth, windowHeight = 600, 460
else
    local ClickButton = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local ImageLabel = Instance.new("ImageLabel")
    local TextButton = Instance.new("TextButton")
    local UICorner = Instance.new("UICorner")
    local UICorner_2 = Instance.new("UICorner")
    if game.CoreGui:FindFirstChild("ClickButton") then
        game.CoreGui:FindFirstChild("ClickButton"):Destroy()
    end
    ClickButton.Name = "ClickButton"
    ClickButton.Parent = game.CoreGui
    ClickButton.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    MainFrame.Name = "MainFrame"
    MainFrame.Parent = ClickButton
    MainFrame.Active = true
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.BackgroundColor3 = Color3.new(1, 1, 1)
    MainFrame.BorderColor3 = Color3.new(0, 0, 0)
    MainFrame.BorderSizePixel = 0
    MainFrame.Transparency = 1
    MainFrame.Position = UDim2.new(0.187441245, 0, 0.476932675, 0)
    MainFrame.Size = UDim2.new(0, 45, 0, 45)

    UICorner.CornerRadius = UDim.new(0, 100)
    UICorner.Parent = MainFrame

    UICorner_2.CornerRadius = UDim.new(0, 100)
    UICorner_2.Parent = ImageLabel

    ImageLabel.Parent = MainFrame
    ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
    ImageLabel.BackgroundColor3 = Color3.new(0, 0, 0)
    ImageLabel.BorderColor3 = Color3.new(0, 0, 0)
    ImageLabel.BorderSizePixel = 0
    ImageLabel.Position = UDim2.new(0.48888889, 0, 0.48888889, 0)
    ImageLabel.Size = UDim2.new(0, 45, 0, 45)
    ImageLabel.Image = "rbxassetid://15892713192"

    TextButton.Parent = MainFrame
    TextButton.BackgroundColor3 = Color3.new(1, 1, 1)
    TextButton.BackgroundTransparency = 1
    TextButton.BorderColor3 = Color3.new(0, 0, 0)
    TextButton.BorderSizePixel = 0
    TextButton.Position = UDim2.new(3.3908421e-07, 0, 0, 0)
    TextButton.Size = UDim2.new(0, 45, 0, 45)
    TextButton.AutoButtonColor = false
    TextButton.Font = Enum.Font.SourceSans
    TextButton.Text = ""
    TextButton.TextColor3 = Color3.new(255, 255, 255)
    TextButton.TextSize = 15
    TextButton.MouseButton1Click:Connect(function()
        game:GetService("VirtualInputManager"):SendKeyEvent(true, "LeftControl", false, game)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, "LeftControl", false, game)
    end)
end

local Window = Fluent:CreateWindow({
    Title = "TsuoHub Universal",
    SubTitle = "develope by mANI- (discord.gg/tsuoscripts)",
    TabWidth = 160,
    Size = UDim2.new(0, windowWidth, 0, windowHeight),
    Acrylic = false,                       -- The blur may be detectable, setting this to false disables blur entirely
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.LeftControl -- Used when theres no MinimizeKeybind
})

-- Fluent provides Lucide Icons https://lucide.dev/icons/ for the tabs, icons are optional
local Tabs = {
    Credits = Window:AddTab({
        Title = "Discord",
        Icon = "gem"
    }),
    AIM = Window:AddTab({
        Title = "Aim",
        Icon = "chevron-up-circle"
    }),
    ESP = Window:AddTab({
        Title = "Esp",
        Icon = "eye"
    }),
    Player = Window:AddTab({
        Title = "LocalPlayer",
        Icon = "layers-2"
    }),
    Misc = Window:AddTab({
        Title = "Misc",
        Icon = "settings"
    }),
}

local Options = Fluent.Options

--variaveis
local Mode = "enemies"
local auto = true

--fun√ßoes
    local Cam = workspace.CurrentCamera
    
    local state = false
    local C = nil
    local reach = 200
    function lookAt(target, eye)
        Cam.CFrame = CFrame.new(target, eye)
    end
    
    function getClosestPlayer(trg_part)
        local nearest = nil
        if Mode == "others" then
        for i,v in pairs(game.Players:GetPlayers()) do
            if v ~= game.Players.LocalPlayer and v.Character.Humanoid.Health ~= 0 and v.Character:FindFirstChildOfClass"ForceField" == nil and game.Players.LocalPlayer.Character and v.Character and v.Character:FindFirstChild(trg_part) then
                if game.Players.LocalPlayer.Character:FindFirstChild(trg_part) then
                    local Distance = (v.Character:FindFirstChildOfClass("Part").Position - game.Players.LocalPlayer.Character:FindFirstChildOfClass("Part").Position).magnitude
                        if Distance <= reach then
                        nearest = v
                    end
                end
            end
        end
        return nearest
        elseif Mode == "enemies" then
        
        for i,v in pairs(game.Players:GetPlayers()) do
            if v ~= game.Players.LocalPlayer and v.Character.Humanoid.Health ~= 0 and v.Character:FindFirstChildOfClass"ForceField" == nil and v.TeamColor.Name ~= game.Players.LocalPlayer.TeamColor.Name and game.Players.LocalPlayer.Character and v.Character and v.Character:FindFirstChild(trg_part) then
                if game.Players.LocalPlayer.Character:FindFirstChild(trg_part) then
                    local Distance = (v.Character:FindFirstChildOfClass("Part").Position - game.Players.LocalPlayer.Character:FindFirstChildOfClass("Part").Position).magnitude
                        if Distance <= reach then
                        nearest = v
                    end
                end
            end
        end
        return nearest
        end
    end
    
    local function modeDetector() 
if auto==true then
if not game:GetService"Teams": FindFirstChildOfClass "Team" then
Mode = "others"
    else
        Mode = "enemies"
    end
    else
        
    end
end

do

    Tabs.Credits:AddButton({
        Title = "Tsuo Hub Discord",
        Description = "Copy Link Discord Server",
        Callback = function()
            setclipboard("https://discord.com/invite/tsuoscripts")
        end
    })

    local AimBot = Tabs.AIM:AddToggle("AimBot", {Title = "Aim Bot", Default = false })

    AimBot:OnChanged(function(bool)
     if bool then
    state = true

    C = game:GetService("RunService").RenderStepped:Connect(function()
        local closest = getClosestPlayer("Head")
        modeDetector() 
        if state and closest and closest.Character:FindFirstChild("Head") then
            lookAt(Cam.CFrame.p, closest.Character:FindFirstChild("Head").Position)
        end
    end)
    else
    state = false
    end
    end)

    local FOV = Tabs.AIM:AddSlider("FOV", {
        Title = "FOV",
        Description = "",
        Default = 20,
        Min = 1,
        Max = 200,
        Rounding = 1,
        Callback = function(Value)
            reach = Value
        end
    })

    local SelectMode = Tabs.AIM:AddDropdown("SelectMode", {
        Title = "Select Mode",
        Values = {"auto", "enemies only", "orthers"},
        Multi = false,
    })

    SelectMode:OnChanged(function(o)
    if o == "enemies only" then
    Mode = "enemies"
            auto=false
    elseif o == "others" then
     Mode = "others"
            auto=false
        elseif o == "auto" then
            auto = true
    end
end)
    
Tabs.ESP:AddButton({
    Title = "Esp Box",
    Description = "",
    Callback = function()
        loadstring(game:HttpGet(
            'https://raw.githubusercontent.com/eusoueuhahaha/espdkkdkdskd/main/boxksksksks'))()
    end
})

Tabs.ESP:AddButton({
    Title = "Esp Box & line",
    Description = "",
    Callback = function()
        loadstring(game:HttpGet(
            'https://raw.githubusercontent.com/eusoueuhahaha/espdjkdkikdskdkdkd/main/lkinemsksksksk'))()
    end
})

   Tabs.ESP:AddButton({
        Title = "Esp Name",
         Description = "",
         Callback = function()
             loadstring(game:HttpGet("https://pastebin.com/raw/whZaPpJu",true))()
                print("button pressed")
         end    
    })

    Tabs.ESP:AddButton({
        Title = "Esp Chams",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/chams/main/esp'))()
                 print("button pressed")
         end    
   })

    Tabs.Player:AddSlider("WalkSpeed", {
        Title = "WalkSpeed",
         Description = "",
        Default = 16,
         Min = 16,
         Max = 300,
         Rounding = 1,
         Callback = function(Value)
                game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
            print(Value)
        end
    })

    Tabs.Player:AddSlider("JumpPower", {
        Title = "JumpPower",
         Description = "",
        Default = 50,
         Min = 50,
         Max = 500,
         Rounding = 1,
         Callback = function(Value)
                game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
            print(Value)
        end
    })

    

    Tabs.Misc:AddButton({
        Title = "Chat Spy",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/chatspy/main/chat'))()
                 print("button pressed")
         end    
   })

     Tabs.Misc:AddButton({
         Title = "Chat Translator (Espa√±ol)",
         Description = "",
         Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/espanhol/main/chat'))()
                  print("button pressed")
          end    
    })
    
    Tabs.Misc:AddButton({
        Title = "Chat Translator (English)",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/english/main/chat'))()
                  print("button pressed")
          end    
    })
    
    Tabs.Misc:AddButton({
        Title = "Chat Translator (Portuguese)",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/portuguese/main/chat'))()
                  print("button pressed")
          end    
    })
    
    Tabs.Misc:AddButton({
        Title = "Chat Translator (French)",
        Description = "",
        Callback = function()
             loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/french/main/chat'))()
                  print("button pressed")
          end    
    })

    Tabs.Misc:AddButton({
        Title = "Chat Translator (Vietnamese)",
        Description = "",
        Callback = function()
             loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/viet/main/chat'))()
                  print("button pressed")
          end    
    })

    Tabs.Misc:AddButton({
        Title = "Anti Fling",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://raw.githubusercontent.com/kehxyzdev/fling/main/anti'))()
                print("button pressed")
        end
    })

    Tabs.Misc:AddButton({
        Title = "FAKE KORBLOX & HEADLESS MENU",
        Description = "",
        Callback = function()
            loadstring(game:HttpGet('https://pastebin.com/raw/H5yx10Jq'))()
                print("button pressed")
        end
    })
end
